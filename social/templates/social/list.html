<!-- actividades/list.html -->
{% extends 'social/layout.html' %}

{% block content %}
  <h1>Lista de Actividades</h1>
  <table>
    <thead>
      <tr>
        <th>Título</th>
        <th>Descripción</th>
        <th>Fecha Inicio</th>
        <th>Fecha Fin</th>
        <th>Archivo</th>
        <th>Estado</th>
        <th>Asignada a</th>
      </tr>
    </thead>
    <tbody>
      {% for actividad in actividades %}
        <tr>
          <td>{{ actividad.titulo }}</td>
          <td>{{ actividad.descripcion }}</td>
          <td>{{ actividad.fecha_inicio }}</td>
          <td>{{ actividad.fecha_fin }}</td>
          <td>{{ actividad.archivo_adjunto }}</td>
          <td>{{ actividad.estado }}</td>
          <td>
            {% for usuario in actividad.asignada_a.all %}
              {{ usuario.get_full_name }}
              {% if not forloop.last %}, {% endif %}
            {% empty %}
              No hay usuarios asignados
            {% endfor %}
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="4">No hay actividades registradas.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}